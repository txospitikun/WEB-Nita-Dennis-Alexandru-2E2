<!DOCTYPE html>
<html lang="ro">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="./dashboard.css" />
  <link rel="stylesheet" href="./elements.css" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
</head>

<body>
  <div id="white-panel"></div>
  <main>
    <div class="main-wrapper">
      <div class="dashboard-left-panel">
        <div class="dashboard-buttons">
          <button class="dashboard-button" id="dashboard_bttn">
            <img src="./assets/icons/dashboard_main_icon.svg" alt="Dashboard Icon" />
            <span class="dashboard-button-text">Panou de control</span>
          </button>
          <button class="dashboard-button" id="profile_bttn">
            <img src="./assets/icons/dashboard_user_icon.svg" alt="Profile Icon" />
            <span class="dashboard-button-text">Profilul tău</span>
          </button>
          <button class="dashboard-button" id="groups_bttn">
            <img src="./assets/icons/dashboard_group_icon.svg" alt="Groups Icon" />
            <span class="dashboard-button-text">Grupuri</span>
          </button>
          <button class="dashboard-button" id="dashboard_admin_bttn" style="display: none">
            <img src="./assets/icons/dashboard_admin_icon.svg" alt="Admin Icon" />
            <span class="dashboard-button-text">Admin Panel</span>
          </button>
          <button class="dashboard-button" id="logout_bttn">
            <img src="./assets/icons/dashboard_logout_icon.svg" alt="Logout Icon" />
            <span class="dashboard-button-text">Deloghează-te</span>
          </button>
        </div>
      </div>
      <div class="dashboard-right-panel">
        <div class="dashboard-navbar">
          <div class="dashboard-profile-container">
            <img src="../placeholders/user1.jpg" class="profile-photo" id="profile-photo" alt="Profile Photo" />
            <div class="profile-info-container">
              <p class="profile-name" id="user-profile-name"></p>
              <p class="profile-name-grad" id="user-profile-type"></p>
            </div>
            <!-- <img class="profile-bell" src="./assets/icons/dashboard_bell_icon.svg" alt = "Bell Icon"> -->
          </div>
        </div>
        <div class="dashboard-control-panel" id="dashboard-main">
          <div class="dashboard-children" id="user-children-id">
            <p>Copiii tăi inregistrați</p>
            <button class="children-add-button default-button" id="add-child-bttn">
              +
            </button>
            <div class="main-modal" id="add-child-modal">
              <div class="popup-form-wrapper">
                <button class="close-button">&times;</button>
                <h2 class="popup-title">Adaugă un copil nou</h2>
                <form class="popup-form" id="add-child-form">
                  <div class="form-group">
                    <label for="FirstName">Nume:</label>
                    <input type="text" id="FirstName" name="FirstName" placeholder="Ex: Popescu" required />
                  </div>
                  <div class="form-group">
                    <label for="LastName">Prenume:</label>
                    <input type="text" id="LastName" name="LastName" placeholder="Ex: Ion" required />
                  </div>
                  <div class="form-group">
                    <label for="Gender">Sex:</label>
                    <select id="Gender" name="Gender" required>
                      <option value="male">Bărbat</option>
                      <option value="female">Femeie</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="DateOfBirth">Data nasterii:</label>
                    <input type="date" id="DateOfBirth" name="DateOfBirth" required />
                  </div>
                  <div class="form-group">
                    <label for="PictureRef">Foto:</label>
                    <input type="file" id="PictureRef" name="PictureRef" required />
                  </div>
                  <button type="submit" class="confirm-button">
                    Confirm
                  </button>
                </form>
              </div>
            </div>
          </div>

          <div class="dashboard-info">
            <div class="dashboard-info-first-row">
              <div class="dashboard-info-first-row-buttons">
                <button class="attribute-button default-button" id="feeding-bttn">
                  <img class="invert" src="./assets/icons/ds_i_fork.svg" alt="Feeding Icon" />
                  <span>Hrănire</span>
                </button>
                <button class="attribute-button default-button" id="sleeping-bttn">
                  <img class="invert" src="./assets/icons/ds_i_bed.svg" alt="Sleeping Icon" />
                  <span>Somn</span>
                </button>
                <button class="attribute-button default-button" id="media-bttn">
                  <img class="invert" src="./assets/icons/ds_i_media.svg" alt="Media Icon" />
                  <span>Media</span>
                </button>
                <button class="attribute-button default-button" id="evolution-bttn">
                  <img class="invert" src="./assets/icons/ds_i_evolution.svg" alt="Evolution Icon" />
                  <span>Evoluție</span>
                </button>
                <button class="attribute-button default-button" id="medical-bttn">
                  <img class="invert" src="./assets/icons/ds_i_medical.svg" alt="Medical Icon" />
                  <span>Sănătate</span>
                </button>
              </div>
              <button class="delete-child-bttn default-button" id="delete-bttn">
                <span>Elimină copil</span>
              </button>
            </div>

            <div class="dashboard-content">
              <div class="calendar-container" id="calendarContainer" style="display: none">
                <div class="upper-content">
                  <div class="left-upper-content">
                    <button class="calendar-bttn default-button" id="add-entry-bttn">
                      Adaugă
                    </button>
                    <div class="main-modal" id="meal-modal">
                      <div class="popup-form-wrapper">
                        <button class="close-button">&times;</button>
                        <h2 class="popup-title" id="meal-modal-title">
                          Adaugă o nouă masă
                        </h2>
                        <form class="popup-form" id="meal-form">
                          <div class="form-group">
                            <div class="checkbox-group">
                              <label for="use-current-date-time-checkbox-meal">Folosește timpul și data actuală:</label>
                              <input type="checkbox" id="use-current-date-time-checkbox-meal"
                                name="use-current-date-time-checkbox-meal" checked />
                            </div>
                          </div>
                          <div class="form-group" id="date-and-time-inputs-meal" style="display: none">
                            <label for="data">Data:</label>
                            <input type="date" id="data_meal" name="data" />
                            <label for="timp">Timp:</label>
                            <input type="time" id="time_meal" name="timp" />
                          </div>
                          <div class="form-group">
                            <label for="mass-selector">Unitate de cântărire:</label>
                            <select id="mass-selector" name="mass-selector">
                              <option value="grame">Grame</option>
                              <option value="miligrame">Miligrame</option>
                            </select>
                          </div>
                          <div class="form-group">
                            <label for="mass-input">Cantitate:</label>
                            <input type="number" id="mass-input" name="mass-input" min="0" required />
                          </div>
                          <div class="form-group">
                            <label for="food">Aliment:</label>
                            <input type="text" id="food" name="food" required />
                          </div>
                          <button type="submit" class="confirm-button" id="confirm-meal-bttn">
                            Adaugă
                          </button>
                        </form>
                      </div>
                    </div>
                    <button class="calendar-bttn default-button" id="edit-entry-bttn">
                      Modifică
                    </button>
                    <div class="main-modal" id="sleeping-modal">
                      <div class="popup-form-wrapper">
                        <button class="close-button">&times;</button>
                        <h2 class="popup-title" id="sleeping-modal-title">
                          Adaugă o perioadă de somn
                        </h2>
                        <form class="popup-form" id="sleeping-form">
                          <div class="form-group">
                            <div class="checkbox-group">
                              <label for="use-current-date-checkbox-sleep">Folosește data actuală:</label>
                              <input type="checkbox" id="use-current-date-checkbox-sleep"
                                name="use-current-date-checkbox-sleep" checked />
                            </div>
                          </div>
                          <div class="form-group" id="date-input-sleep" style="display: none">
                            <label for="data">Data:</label>
                            <input type="date" id="data_sleep" name="data" />
                          </div>
                          <div class="form-group">
                            <label for="time-sleep">Ora de somn:</label>
                            <input type="time" id="time_sleep" name="time-sleep" />
                            <label for="time-awake">Ora de trezire:</label>
                            <input type="time" id="time_awake" name="time-awake" />
                          </div>
                          <button type="submit" class="confirm-button" id="confirm-sleeping-bttn">
                            Adaugă
                          </button>
                        </form>
                      </div>
                    </div>

                    <button class="calendar-bttn default-button" id="delete-entry-bttn">
                      Elimină
                    </button>
                    <div class="current-day-title" id="current-day-title"></div>
                  </div>
                </div>
                <div class="bottom-content">
                  <div class="calendar-container-info">
                    <div class="right-upper-content">
                      <div class="current-month">
                        <button class="month-change-button" id="previous-month-button">
                          &lt;
                        </button>
                        <span id="month-year"></span>
                        <button class="month-change-button" id="next-month-button">
                          &gt;
                        </button>
                      </div>
                      <div class="weekdays-container">
                        <div class="current-day">Lu.</div>
                        <div class="current-day">Ma.</div>
                        <div class="current-day">Mi.</div>
                        <div class="current-day">Jo.</div>
                        <div class="current-day">Vi.</div>
                        <div class="current-day">Sâ.</div>
                        <div class="current-day">Du.</div>
                      </div>
                    </div>
                    <div class="calendar-items" id="feeding_items"></div>
                    <div class="calendar-items" id="sleeping_items" style="display: none"></div>
                  </div>
                  <div class="calendar-dates" id="calendarElement"></div>
                </div>
              </div>

              <div class="media-container" id="mediaElement" style="display: none">
                <div class="dashboard-info-first-row">
                  <div class="dashboard-info-first-row-buttons">
                    <button class="default-button" id="add-photo-bttn">
                      <span>Adaugă media</span>
                    </button>
                    <div class="main-modal" id="add-photo-modal">
                      <div class="popup-form-wrapper">
                        <button class="close-button">&times;</button>
                        <h2 class="popup-title">Adaugă un element media</h2>
                        <form class="popup-form" id="add-media-form">
                          <div class="form-group">
                            <div class="checkbox-group">
                              <label for="use-current-date-time-checkbox-media">Folosește timpul și data
                                actuală:</label>
                              <input type="checkbox" id="use-current-date-time-checkbox-media"
                                name="use-current-date-time-checkbox-media" checked />
                            </div>
                          </div>
                          <div class="form-group" id="date-and-time-inputs-media" style="display: none">
                            <label for="data">Data:</label>
                            <input type="date" id="data_media" name="data" />
                            <label for="timp">Timp:</label>
                            <input type="time" id="time_media" name="timp" />
                          </div>
                          <div class="form-group">
                            <div class="checkbox-group">
                              <label for="add-to-timeline-checkbox">Adaugă la timeline?</label>
                              <input type="checkbox" id="add-to-timeline-checkbox" name="add-to-timeline-checkbox"
                                checked />
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="mediaInput">Selectează fișier:</label>
                            <input type="file" id="mediaInput" name="PictureRef" required />
                          </div>
                          <div class="form-group">
                            <button type="submit" class="confirm-button">
                              Adaugă fișier
                            </button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>

                </div>
                <div class="gallery" id="media-gallery"></div>
                <div id="myModal" class="modal">
                  <span class="close">&times;</span>
                  <img class="modal-content" id="img01" />
                  <video class="modal-content" id="vid01" controls style="display:none;"></video>
                  <audio class="modal-content" id="aud01" controls style="display:none;"></audio>
                  <div class="caption" id="caption"></div>
                  <div class = "buttons-media">
                    <button class = "default-button" id="delete">Șterge media</button>
                    <button class = "default-button" onclick="return shareOnFacebook();" id="share">Partajează pe Facebook</button>
                  </div>
                </div>
              </div>

              <div class="evolutionContainer" id="evolutionElement" style="display: none">
                <div class="timeline" id="timeline">
                  <div class="timeline-content">
                    <div class="container left">
                      <div class="content">
                        <h2>2017</h2>
                        <img src="../placeholders/child1.jpg" alt="Image description" />
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                    <div class="container right">
                      <div class="content">
                        <h2>2016</h2>
                        <img src="../placeholders/child2.jpg" alt="Image description" />
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                    <div class="container left">
                      <div class="content">
                        <h2>2017</h2>
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                    <div class="container right">
                      <div class="content">
                        <h2>2016</h2>
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                    <div class="container left">
                      <div class="content">
                        <h2>2017</h2>
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                    <div class="container right">
                      <div class="content">
                        <h2>2016</h2>
                        <p>Lorem ipsum..</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div id="medicalElement" class="medical-records" style="display: none">
                <h2>Istoric medical</h2>
                <label for="category">Alege o categorie:</label>
                <select id="category">
                  <option value="0">Informații generale</option>
                  <option value="1">Vaccinuri</option>
                  <option value="2">Vizite la medic, diagnostice si recomandări</option>
                  <option value="3">Boli și tratamente</option>
                  <option value="4">Alergii și intoleranțe</option>
                  <option value="5">Altele</option>
                </select>
                <div id="medicalRecords">
                </div>
                <button id="addButton" class="default-button">Adauga raport medical</button>

                <div id="addModal" class="main-modal">
                  <div class="popup-form-wrapper">
                    <button class="close-button">&times;</button>
                    <h2 class="popup-title">Adauga raport medical</h2>
                    <form class="popup-form" id="addForm">
                      <div class="form-group">
                        <label for="Date">Date:</label>
                        <input type="date" id="Date" name="Date" required>
                      </div>
                      <div class="form-group">
                        <label for="Title">Title:</label>
                        <input type="text" id="Title" name="Title" required>
                      </div>
                      <div class="form-group">
                        <label for="Description">Description:</label>
                        <input type="text" id="Description" name="Description" required>
                      </div>
                      <div class=form-group>
                        <label for="FileRef">File:</label>
                        <input type="file" id="FileRef" name="FileRef"><br>
                      </div>
                        <button type="submit" id="submitButton" class="confirm-button">Submit</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="dashboard-control-panel" id="dashboard-profile">
          <div class="dashboard-info-profile">
            <div class="profile-buttons-category">
              <button class="default-button" id="profile-bttn-general">
                Setările generale ale contului dumnneavoastră
              </button>
            </div>
            <div class="grid-layout-content">
              <div class="profile-settings-container">
                <h1>Niță Dennis-Alexandru</h1>
              </div>
              <div class="profile-settings-container">
                <p>Email & Telefon</p>
                <p>Email: dumbchinese@gmail.com</p>
                <p>Telefon: +40 765928114</p>
              </div>
              <div class="profile-settings-container">
                <button type="button" class="orange-bg" id="edit-account-bttn">
                  Modifică cont
                <button type="button" class="orange-bg" id="export-profile">
                  Export informații cont
              </div>

              <div class="main-modal" id="edit-account-modal">
                <div class="popup-form-wrapper">
                  <button class="close-button">&times;</button>
                  <h2 class="popup-title">Modifică cont</h2>
                  <form class="popup-form" id="edit-account-form">
                    <div class="form-group">
                      <label for="email">Email:</label>
                      <input type="email" id="email" name="email" />
                    </div>
                    <div class="form-group">
                      <label for="password">Parola:</label>
                      <input type="password" id="password" name="password" />
                    </div>
                    <div class="form-group">
                      <label for="lastname">Nume:</label>
                      <input type="text" id="lastname" name="lastname" />
                    </div>
                    <div class="form-group">
                      <label for="firstname">Prenume:</label>
                      <input type="text" id="firstname" name="firstname" />
                    </div>
                    <div class="form-group">
                      <label for="phoneNo">Telefon:</label>
                      <input type="tel" id="phoneNo" name="phoneNo" />
                    </div>
                    <div class="form-group">
                      <label for="location">Localizare:</label>
                      <input type="text" id="location" name="location" />
                    </div>
                    <div class="form-group">
                      <label for="language">Limbă:</label>
                      <input type="text" id="language" name="language" />
                    </div>
                    <div class="form-group checkbox-group">
                      <label for="casatorit">Căsătorit</label>
                      <input type="checkbox" id="casatorit" name="civilState" />
                    </div>
                    <div class="form-group" id="nume-partener-group" style="display: none">
                      <label for="civilPartner">Nume partener:</label>
                      <input type="text" id="civilPartner" name="civilPartner" />
                    </div>
                    <div class="form-group">
                      <label for="accountType">Tipul contului:</label>
                      <select id="accountType" name="accountType">
                        <option value="familie">Familie</option>
                        <option value="individual">Individual</option>
                        <option value="casa-de-copii">Casa de copii</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="ProfilePhoto">Foto:</label>
                      <input type="file" id="ProfilePhoto" name="pictureRef" />
                    </div>
                    <button type="submit" class="confirm-button">
                      Confirm
                    </button>
                  </form>
                </div>
              </div>
              <div class="profile-settings-container">
                <p>Stare civilă</p>
                <p>Căsătorit: Nu</p>
              </div>
              <div class="profile-settings-container">
                <button type="button" class="orange-bg" id="export-groups">
                  Exportă grupuri
                </button>
              </div>
              <div class="profile-settings-container">
                <p>Localizare & Limbă</p>
                <p>Localizare: România</p>
                <p>Limbă: Română</p>
              </div>

              <div class="profile-settings-container">
                <button type="button" class="orange-bg" id="export-childrens">
                  Exportă copiii
                </button>
              </div>

              <div class="profile-settings-container">
                <p>Tipul contului</p>
                <p>Tipul contului: Familie</p>
              </div>
              <div class="profile-settings-container">
                <button type="button" class="orange-bg" id="export-media">
                  Exportă media
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="dashboard-control-panel" id="dashboard-admin-panel">
          <div class="dashboard-info-admin">
            <div class="grid-layout-content-admin">

              <div class="profile-settings-container-admin">
                Selectează utilizatorul pe care vrei să îl modifici.
                <div id = 'all-users' class="all-avalabile-users-container" id="users-list">
                </div>
              </div>
              <div class="profile-settings-container-admin">
                Selectează copilul pe care vrei să îl modifici.
                <div id = 'children-list' class="all-avalabile-users-container" id="children-list">
                </div>
              </div>
              <div class="admin-panel-settings-container">
                <h3>Opțiuni editare cont selectat:</h3>
                <br />
                <button class="default-button-slim red-bg edit_user_button" data-field="DeleteAccount">Șterge</button>
                <button class="default-button-slim orange-bg edit_user_button" data-field="DeactivateAccount">Dezactivează/Activează</button>
                <button class="default-button-slim edit_user_button" data-field="FirstName">Modifică nume</button>
                <button class="default-button-slim edit_user_button" data-field="LastName">Modifică prenume</button>
                <button class="default-button-slim edit_user_button" data-field="PhoneNo">Modifică telefon</button>
                <button class="default-button-slim edit_user_button" data-field="Email">Modifică email</button>
                <button class="default-button-slim edit_user_button" data-field="Location">Modifică localizare</button>
                <button class="default-button-slim edit_user_button" data-field="Language">Modifică limbă</button>
                <button class="default-button-slim edit_user_button" data-field="CivilState">Modifică starea civilă</button>
                <button class="default-button-slim edit_user_button" data-field="AccountType">Modifică tipul contului</button>

              </div>
              <div class="profile-settings-container-admin">
                <div class="admin-panel-settings-container">
                  <h3>Opțiuni editare copil selectat:</h3>
                  <br />
                  <button class="default-button-slim red-bg edit_children_button" data-field="DeleteChild">Șterge</button>
                  <button class="default-button-slim edit_children_button" data-field="FirstName">Modifică nume</button>
                  <button class="default-button-slim edit_children_button" data-field="LastName">Modifică prenume</button>
                  <button class="default-button-slim edit_children_button" data-field="Gender">Modifică gen</button>
                  <button class="default-button-slim edit_children_button" data-field="DateOfBirth">Modifică data nașterii</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="dashboard-control-panel" id="dashboard-groups">
          <div class="dashboard-groups">
            <div class="media-container">
              <div class="dashboard-info-first-row">
                <div class="dashboard-info-first-row-buttons" id="group-buttons">
                  <button class="default-button" id="add-group-bttn">
                    <span>Adaugă grup</span>
                  </button>
                </div>
                  <div class="main-modal" id="add-group-modal">
                    <div class="popup-form-wrapper">
                      <button class="close-button">&times;</button>
                      <h2 class="popup-title" id="group-title">Adaugă un grup nou</h2>
                      <form class="popup-form" id="add-group-form">
                        <div class="form-group">
                          <label for="groupName">Numele grupului:</label>
                          <input type="text" id="groupName" name="Title" required />
                        </div>
                        <div class="form-group">
                          <label for="groupPhoto">Poza grupului:</label>
                          <input type="file" id="groupPhoto" name="PictureRef" required />
                        </div>
                        <div class="form-group">
                          <button type="submit" class="confirm-button" id="group-button">
                            Adaugă grup
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                
              </div>
              <div class="gallery" id="groups-gallery"></div>
              <div id="groupChildModal" class="modal">
                <span class="close">&times;</span>
                <img class="modal-content" id="img02" />
                <div class="caption" id="caption2"> 
                </div>
                <button class="caption-button default-button" id="add-relation">Adaugă relație</button>
                
            </div>
            
            <div class="main-modal" id="addRelationModal">
              <div class="popup-form-wrapper">
                <button class="close-button">&times;</button>
                <form class="modal-content" id="add-relation-form">
                  <h2 class="popup-title">Add Relation</h2>
                  <div class="form-group">
                    <label for="relatedChildId">ID-ul copilului relaționat:</label>
                    <input type="text" id="relatedChildId" name="ChildrenRelationTwo" required />
                  </div>
                  <div class="form-group">
                  <label for="relationType">Tipul relației:</label>
                    <input type="text" id="relationType" name="TypeOfRelation" required />
                  </div>
                  <button type="submit" class="confirm-button">Add Relation</button>
                </form>
              </div>
            </div>
            
              <div class="main-modal" id="add-group-child-modal">
                <div class="popup-form-wrapper">
                    <button class="close-button">&times;</button>
                    <h2 class="popup-title">Adaugă un copil în grup după ID</h2>
                    <form class="popup-form" id="add-group-child-form">
                        <div class="form-group">
                            <label for="childId">Child ID:</label>
                            <input type="text" id="childId" name="ChildrenID" required />
                        </div>
                        <div class="form-group">
                            <button type="submit" class="confirm-button">Adaugă copil</button>
                        </div>
                    </form>
                </div>
              </div>   
            </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    function shareOnFacebook() {
      const photoUrl = 'https://localhost:5000/api/src/uploads/1719235262445-868e0667e287-0605d08d-ff40-430e-bd1d-c99c8c1ed373.jpg';
      const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(photoUrl)}`;
      window.open(shareUrl, 'facebook-share-dialog', 'width=800,height=600');
      return false;
    }
  </script>
  <script type="module" src="./dashboard.js"></script>
  <script type="module" src="./calendar.js"></script>
  <script type="module" src="./childrenOperations.js"></script>
  <script type="module" src="./feedingOperations.js"></script>
  <script type="module" src="./sleepingOperations.js"></script>
  <script type="module" src="./mediaOperations.js"></script>
  <script type="module" src="./groupOperations.js"></script>
  <script type="module" src="./adminOperations.js"></script>
  <script type="module" src="./exportOperations.js"></script>
  <script type="module" src="./accountOperations.js"></script>

  <!-- <script type = "module" src="./dashboard_logic.js"></script> -->
  <!-- <script type = "module" src="./dashboard_post_operations.js"></script> -->
</body>

</html>